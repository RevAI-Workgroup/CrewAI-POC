# [Task 3-1] Remove SSE Infrastructure

## Description
Clean up existing Server-Sent Events (SSE) implementation to avoid conflicts with the new HTTP streaming chat implementation. The current SSE infrastructure includes a complete service, router, schemas, and integration points that need to be removed or disabled.

## Status History
- 2024-12-27 16:45 UTC - create_task - Status: Proposed - Task created for SSE cleanup
- 2024-12-27 17:00 UTC - start_work - Status: InProgress - Started SSE infrastructure removal
- 2024-12-27 17:10 UTC - submit_for_review - Status: Review - SSE infrastructure successfully removed

## Requirements
1. Remove SSE router registration from `backend/main.py`
2. Disable SSE service usage in message processing
3. Remove SSE-related imports and dependencies
4. Clean up SSE test files
5. Update frontend if any EventSource usage exists
6. Ensure no SSE connections handling remains active

## Implementation Plan

### Backend Cleanup
1. **Remove SSE router from main.py**
   - Remove `from routers.sse import router as sse_router`
   - Remove `app.include_router(sse_router, prefix="/api")`

2. **Disable SSE in message processing service**
   - Update `backend/services/message_processing_service.py`
   - Remove SSE broadcasting calls
   - Remove SSE availability checks

3. **Remove SSE schema imports**
   - Clean up unused SSE schema imports across services

### Test Cleanup  
1. **Remove SSE test files**
   - `backend/tests/test_sse_integration.py`
   - `backend/tests/performance/test_sse_load.py`

2. **Update any test configurations**
   - Remove SSE-related test configurations

### Frontend Cleanup (if needed)
1. **Check for EventSource usage**
   - Search for `EventSource` usage in frontend
   - Remove any SSE client implementations

## Test Plan
- ✅ Backend starts without SSE router registration
- ✅ Message processing works without SSE broadcasting
- ✅ No SSE-related errors in logs
- ✅ Existing API functionality remains intact
- ✅ No EventSource usage in frontend

## Verification
- [ ] Server starts successfully
- [ ] API endpoints respond normally
- [ ] No SSE-related warnings in logs
- [ ] Message creation/processing works as expected

## Files Modified
- `backend/main.py` - Remove SSE router registration
- `backend/services/message_processing_service.py` - Remove SSE usage
- Remove: `backend/tests/test_sse_integration.py`
- Remove: `backend/tests/performance/test_sse_load.py`

---

**Parent Task Index**: [PBI-003 Tasks](mdc:../tasks.md)
**Status**: Proposed
**Last Updated**: 2024-12-27 